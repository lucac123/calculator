<!DOCTYPE html>
<html>
	<head>
		<title>MiniCalc</title>
		<meta charset="utf-8"/>
		<link rel="stylesheet" type="text/css" href="./calc.css"/>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Cabin&display=swap" rel="stylesheet"> 
	</head>
	<body>
		<div id="calculator">
			<div id="contents">
				<input class="text-box term" type="text" name="term1" value="0"/>
				<input class="text-box term" type="text" name="term2" value="0"/>

				<label class="button">
					<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
						<path d="M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"/>
					</svg>
					<input type="radio" name="operator" value="plus"/>
				</label>
				<label class="button right">
					<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
						<path d="M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z"/>
					</svg>
					<input type="radio" name="operator" value="minus"/>
				</label>
				<br/>
				<label class="button">
					<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
						<path d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/>
					</svg>
					<input type="radio" name="operator" value="times"/>
				</label>
				<label class="button right">
					<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
						<path d="M400 224h-352c-17.69 0-32 14.31-32 31.1s14.31 32 32 32h352c17.69 0 32-14.31 32-32S417.7 224 400 224zM224 144c26.47 0 48-21.53 48-48s-21.53-48-48-48s-48 21.53-48 48S197.5 144 224 144zM224 368c-26.47 0-48 21.53-48 48s21.53 48 48 48s48-21.53 48-48S250.5 368 224 368z"/>
					</svg>
					<input type="radio" name="operator" value="divides"/>
				</label>

				<p class="text-box" id="solution">0</p>
			</div>
		</div>
	</body>
	<script>
		
		let calculate = (event) => {
			let operator = null;

			let t1 = parseFloat(terms[0].value);
			let t2 = parseFloat(terms[1].value);
			let sol = document.getElementById("solution");

			for (let i = 0; i < buttons.length; i++) {
				if (buttons[i].checked) {
					operator = buttons[i].value;
					buttons[i].parentElement.style.backgroundColor = "#A7DDFB";
					buttons[i].parentElement.getElementsByTagName("svg")[0].style.fill = "#2D7FAD";
				}
				else {
					buttons[i].parentElement.style.backgroundColor = "#2D7FAD";
					buttons[i].parentElement.getElementsByTagName("svg")[0].style.fill = "#A7DDFB";
				}
			}
			
			switch(operator) {
				case "plus":
					sol.textContent = (isNaN(t1)? 0 : t1) + (isNaN(t2)? 0 : t2);
					break;
				case "minus":
					sol.textContent = (isNaN(t1)? 0 : t1) - (isNaN(t2)? 0 : t2);
					break;
				case "times":
					sol.textContent = (isNaN(t1)? 0 : t1) * (isNaN(t2)? 0 : t2);
					break;
				case "divides":
					if (t2 == 0)
						sol.textContent = "ERR DIV BY 0"
					else
						sol.textContent = (isNaN(t1)? 0 : t1) / (isNaN(t2)? 1 : t2);
					break;
				default:
					sol.textContent = 0;
			}

			
		}
		
		let terms = document.getElementsByClassName("term");
		let buttons = document.getElementsByName("operator");

		for (let i = 0; i < terms.length; i++)
			terms[i].addEventListener("input", calculate, false);

		for (let i = 0; i < buttons.length; i++)
			buttons[i].addEventListener("change", calculate, false);

	</script>
</html>